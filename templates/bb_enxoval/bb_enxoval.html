<!DOCTYPE html>
{% extends "base.html" %}
  {% load staticfiles %}
  {% block content %}
    <link rel="stylesheet" href="{% static "css/bb_enxoval.css" %}">
    <script>
    function UpdateColumns(value) {
      if (window.innerWidth > 700) return;
      var table = document.getElementById("table-enxoval");
      // var cols = table.getElementsByTagName('col');
      for (var i = 0, row; row = table.rows[i]; i++) {
        var colSpan = 0;
        for (var j = 1, col; col = row.cells[j]; j++) {
          colSpan += col.colSpan;
          if (colSpan > 3 * (value - 1) && colSpan <= 3 * value) {
            col.style.display = 'table-cell';
          } else {
            col.style.display = 'none';
          }
        }
      }
    }

    function SelectTrimester(selectObject) {
      var trimester = selectObject.value;
      UpdateColumns(trimester);
    }
    </script>

    {% if data %}
      <div class="table-wrapper">
        <select class="trimester-select" onchange="SelectTrimester(this)">
          <option value=1>0 - 3 Meses</option>
          <option value=2>3 - 6 Meses</option>
          <option value=3>6 - 9 Meses</option>
          <option value=4>9 - 12 Meses</option>
        </select>

        <table id ="table-enxoval" class="table table-hover table-bordered border-pink">
          <col id="col0"> <col id="col1"> <col id="col2"> <col id="col3">
          <col id="col4"> <col id="col5"> <col id="col6"> <col id="col7">
          <col id="col8"> <col id="col9"> <col id="col10"> <col id="col11">
          <col id="col12">
          <tr>
            <td></td>
            {% for month in months %}
              <td> {{ month }} </td>
            {% endfor %}
          </tr>
          {% for r in data %}
            <tr>
              {% for text, color in r %}
                <td style="background-color: {{ color }}"> {{ text }} </td>
              {% endfor %}
            </tr>
          {% endfor %}
          <tr style="border: 0;">
            <td colspan="13" style="border: 0;"></td>
          </tr>
          <tr class="text-bold-center">
            <td> Tamanho </td>
            <td> RN/PP</td>
            <td colspan="2">P</td>
            <td colspan="3">M</td>
            <td colspan="3">G</td>
            <td colspan="3">GG</td>
          </tr>
          <tr>
            <td class="text-bold-center">Body Manga Curta</td>
            {% for q, col in body_curto %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
          <tr>
            <td class="text-bold-center">Body Manga Longa</td>
            {% for q, col in body_longo %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
          <tr>
            <td class="text-bold-center">Macacão curto</td>
            {% for q, col in macacao_curto %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
          <tr>
            <td class="text-bold-center">Macacão longo</td>
            {% for q, col in macacao_longo %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
          <tr>
            <td class="text-bold-center">Camiseta Manga Curta</td>
            {% for q, col in camiseta_curta %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
          <tr>
            <td class="text-bold-center">Camiseta Manga Longa</td>
            {% for q, col in camiseta_longa %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
          <tr>
            <td class="text-bold-center">Culote</td>
            {% for q, col in culote %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
          <tr>
            <td class="text-bold-center">Par de meia</td>
            {% for q, col in meia %}
              <td colspan="{{ col }}"> {{ q }} </td>
            {% endfor %}
          </tr>
        </table>
        <script>
          UpdateColumns(1);
        </script>
      </div>
    {% else %}
      <p>No data.</p>
    {% endif %}
  {% endblock %}
